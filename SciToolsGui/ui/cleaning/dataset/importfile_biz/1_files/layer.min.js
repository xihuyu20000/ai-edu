/* layer-v3.1.1 Web弹层组件 MIT License  http://layer.layui.com/  By 贤心 */
!function(m,v){var b,g,j=m.layui&&layui.define,h={getPath:function(){var a=document.currentScript?document.currentScript.src:function(){for(var o,f=document.scripts,l=f.length-1,c=l;c>0;c--){if("interactive"===f[c].readyState){o=f[c].src;break}}return o||f[l].src}();return a.substring(0,a.lastIndexOf("/")+1)}(),config:{},end:{},minIndex:0,minLeft:[],btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],type:["dialog","page","iframe","loading","tips"],getStyle:function(c,e){var a=c.currentStyle?c.currentStyle:m.getComputedStyle(c,null);return a[a.getPropertyValue?"getPropertyValue":"getAttribute"](e)},link:function(A,e,r){if(q.path){var w=document.getElementsByTagName("head")[0],z=document.createElement("link");"string"==typeof e&&(r=e);var o=(r||A).replace(/\.|\//g,""),y="layuicss-"+o,x=0;z.rel="stylesheet",z.href=q.path+A,z.id=y,document.getElementById(y)||w.appendChild(z),"function"==typeof e&&!function B(){return ++x>80?m.console&&console.error("layer.css: Invalid"):void (1989===parseInt(h.getStyle(document.getElementById(y),"width"))?e():setTimeout(B,100))}()}}},q={v:"3.1.1",ie:function(){var a=navigator.userAgent.toLowerCase();return !!(m.ActiveXObject||"ActiveXObject" in m)&&((a.match(/msie\s(\d+)/)||[])[1]||"11")}(),index:m.layer&&m.layer.v?100000:0,path:h.getPath,config:function(c,a){return c=c||{},q.cache=h.config=b.extend({},h.config,c),q.path=h.config.path||q.path,"string"==typeof c.extend&&(c.extend=[c.extend]),h.config.path&&q.ready(),c.extend?(j?layui.addcss("web/layer/"+c.extend):h.link("theme/"+c.extend),this):this},ready:function(l){var c="layer",f="",a=(j?"web/layer/":"theme/")+"default/layer.css?v="+q.v+f;return j?layui.addcss(a,l,c):h.link(a,l,c),this},alert:function(l,f,c){var i="function"==typeof f;return i&&(c=f),q.open(b.extend({content:l,yes:c},i?{}:f))},confirm:function(o,i,f,l){var c="function"==typeof i;return c&&(l=f,f=i),q.open(b.extend({content:o,btn:h.btn,yes:f,btn2:l},c?{}:i))},msg:function(w,l,r){var i="function"==typeof l,x=h.config.skin,t=(x?x+" "+x+"-msg":"")||"layui-layer-msg",o=d.anim.length-1;return i&&(r=l),q.open(b.extend({content:w,time:3000,shade:!1,skin:t,title:!1,closeBtn:!1,btn:!1,resize:!1,end:r},i&&!h.config.skin?{skin:t+" layui-layer-hui",anim:o}:function(){return l=l||{},(l.icon===-1||l.icon===v&&!h.config.skin)&&(l.skin=t+" "+(l.skin||"layui-layer-hui")),l}()))},load:function(c,a){return q.open(b.extend({type:3,icon:c||0,resize:!1,shade:0.01},a))},tips:function(f,c,a){return q.open(b.extend({type:4,content:[f,c],closeBtn:!1,time:3000,shade:!1,resize:!1,fixed:!1,maxWidth:210},a))}},u=function(c){var a=this;a.index=++q.index,a.config=b.extend({},a.config,h.config,c),document.body?a.creat():setTimeout(function(){a.creat()},30)};u.pt=u.prototype;var d=["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close"];d.anim=["layer-anim-00","layer-anim-01","layer-anim-02","layer-anim-03","layer-anim-04","layer-anim-05","layer-anim-06"],u.pt.config={type:0,shade:0.3,fixed:!0,move:d[1],title:"&#x4FE1;&#x606F;",offset:"auto",area:"auto",closeBtn:1,time:0,zIndex:19891014,maxWidth:360,anim:0,isOutAnim:!0,icon:-1,moveType:1,resize:!0,scrollbar:!0,tips:2},u.pt.vessel=function(w,A){var i=this,l=i.index,y=i.config,z=y.zIndex+l,x="object"==typeof y.title,o=y.maxmin&&(1===y.type||2===y.type),B=y.title?'<div class="layui-layer-title" style="'+(x?y.title[1]:"")+'">'+(x?y.title[0]:y.title)+"</div>":"";return y.zIndex=z,A([y.shade?'<div class="layui-layer-shade" id="layui-layer-shade'+l+'" times="'+l+'" style="'+("z-index:"+(z-1)+"; ")+'"></div>':"",'<div class="'+d[0]+(" layui-layer-"+h.type[y.type])+(0!=y.type&&2!=y.type||y.shade?"":" layui-layer-border")+" "+(y.skin||"")+'" id="'+d[0]+l+'" type="'+h.type[y.type]+'" times="'+l+'" showtime="'+y.time+'" conType="'+(w?"object":"string")+'" style="z-index: '+z+"; width:"+y.area[0]+";height:"+y.area[1]+(y.fixed?"":";position:absolute;")+'">'+(w&&2!=y.type?"":B)+'<div id="'+(y.id||"")+'" class="layui-layer-content'+(0==y.type&&y.icon!==-1?" layui-layer-padding":"")+(3==y.type?" layui-layer-loading"+y.icon:"")+'">'+(0==y.type&&y.icon!==-1?'<i class="layui-layer-ico layui-layer-ico'+y.icon+'"></i>':"")+(1==y.type&&w?"":y.content||"")+'</div><span class="layui-layer-setwin">'+function(){var a=o?'<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>':"";return y.closeBtn&&(a+='<a class="layui-layer-ico '+d[7]+" "+d[7]+(y.title?y.closeBtn:4==y.type?"1":"2")+'" href="javascript:;"></a>'),a}()+"</span>"+(y.btn?function(){var f="";"string"==typeof y.btn&&(y.btn=[y.btn]);for(var a=0,c=y.btn.length;a<c;a++){f+='<a class="'+d[6]+a+'">'+y.btn[a]+"</a>"}return'<div class="'+d[6]+" layui-layer-btn-"+(y.btnAlign||"")+'">'+f+"</div>"}():"")+(y.resize?'<span class="layui-layer-resize"></span>':"")+"</div>"],B,b('<div class="layui-layer-move"></div>')),i},u.pt.creat=function(){var w=this,l=w.config,o=w.index,i=l.content,x="object"==typeof i,r=b("body");if(!l.id||!b("#"+l.id)[0]){switch("string"==typeof l.area&&(l.area="auto"===l.area?["",""]:[l.area,""]),l.shift&&(l.anim=l.shift),6==q.ie&&(l.fixed=!1),l.type){case 0:l.btn="btn" in l?l.btn:h.btn[0],q.closeAll("dialog");break;case 2:var i=l.content=x?l.content:[l.content||"http://layer.layui.com","auto"];l.content='<iframe scrolling="'+(l.content[1]||"auto")+'" allowtransparency="true" id="'+d[4]+o+'" name="'+d[4]+o+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+l.content[0]+'"></iframe>';break;case 3:delete l.title,delete l.closeBtn,l.icon===-1&&0===l.icon,q.closeAll("loading");break;case 4:x||(l.content=[l.content,"body"]),l.follow=l.content[1],l.content=l.content[0]+'<i class="layui-layer-TipsG"></i>',delete l.title,l.tips="object"==typeof l.tips?l.tips:[l.tips,!0],l.tipsMore||q.closeAll("tips")}if(w.vessel(x,function(c,a,e){r.append(c[0]),x?function(){2==l.type||4==l.type?function(){b("body").append(c[1])}():function(){i.parents("."+d[0])[0]||(i.data("display",i.css("display")).show().addClass("layui-layer-wrap").wrap(c[1]),b("#"+d[0]+o).find("."+d[5]).before(a))}()}():r.append(c[1]),b(".layui-layer-move")[0]||r.append(h.moveElem=e),w.layero=b("#"+d[0]+o),l.scrollbar||d.html.css("overflow","hidden").attr("layer-full",o)}).auto(o),b("#layui-layer-shade"+w.index).css({"background-color":l.shade[1]||"#000",opacity:l.shade[0]||l.shade}),2==l.type&&6==q.ie&&w.layero.find("iframe").attr("src",i[0]),4==l.type?w.tips():w.offset(),l.fixed&&g.on("resize",function(){w.offset(),(/^\d+%$/.test(l.area[0])||/^\d+%$/.test(l.area[1]))&&w.auto(o),4==l.type&&w.tips()}),l.time<=0||setTimeout(function(){q.close(w.index)},l.time),w.move().callback(),d.anim[l.anim]){var n="layer-anim "+d.anim[l.anim];w.layero.addClass(n).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){b(this).removeClass(n)})}l.isOutAnim&&w.layero.data("isOutAnim",!0)}},u.pt.auto=function(r){var y=this,l=y.config,i=b("#"+d[0]+r);""===l.area[0]&&l.maxWidth>0&&(q.ie&&q.ie<8&&l.btn&&i.width(i.innerWidth()),i.outerWidth()>l.maxWidth&&i.width(l.maxWidth));var x=[i.innerWidth(),i.innerHeight()],w=i.find(d[1]).outerHeight()||0,n=i.find("."+d[6]).outerHeight()||0,z=function(a){a=i.find(a),a.height(x[1]-w-n-2*(0|parseFloat(a.css("padding-top"))))};switch(l.type){case 2:z("iframe");break;default:""===l.area[1]?l.maxHeight>0&&i.outerHeight()>l.maxHeight?(x[1]=l.maxHeight,z("."+d[5])):l.fixed&&x[1]>=g.height()&&(x[1]=g.height(),z("."+d[5])):z("."+d[5])}return y},u.pt.offset=function(){var n=this,c=n.config,l=n.layero,f=[l.outerWidth(),l.outerHeight()],r="object"==typeof c.offset;n.offsetTop=(g.height()-f[1])/2,n.offsetLeft=(g.width()-f[0])/2,r?(n.offsetTop=c.offset[0],n.offsetLeft=c.offset[1]||n.offsetLeft):"auto"!==c.offset&&("t"===c.offset?n.offsetTop=0:"r"===c.offset?n.offsetLeft=g.width()-f[0]:"b"===c.offset?n.offsetTop=g.height()-f[1]:"l"===c.offset?n.offsetLeft=0:"lt"===c.offset?(n.offsetTop=0,n.offsetLeft=0):"lb"===c.offset?(n.offsetTop=g.height()-f[1],n.offsetLeft=0):"rt"===c.offset?(n.offsetTop=0,n.offsetLeft=g.width()-f[0]):"rb"===c.offset?(n.offsetTop=g.height()-f[1],n.offsetLeft=g.width()-f[0]):n.offsetTop=c.offset),c.fixed||(n.offsetTop=/%$/.test(n.offsetTop)?g.height()*parseFloat(n.offsetTop)/100:parseFloat(n.offsetTop),n.offsetLeft=/%$/.test(n.offsetLeft)?g.width()*parseFloat(n.offsetLeft)/100:parseFloat(n.offsetLeft),n.offsetTop+=g.scrollTop(),n.offsetLeft+=g.scrollLeft()),l.attr("minLeft")&&(n.offsetTop=g.height()-(l.find(d[1]).outerHeight()||0),n.offsetLeft=l.css("left")),l.css({top:n.offsetTop,left:n.offsetLeft})},u.pt.tips=function(){var w=this,A=w.config,l=w.layero,i=[l.outerWidth(),l.outerHeight()],y=b(A.follow);y[0]||(y=b("body"));var z={width:y.outerWidth(),height:y.outerHeight(),top:y.offset().top,left:y.offset().left},x=l.find(".layui-layer-TipsG"),n=A.tips[0];A.tips[1]||x.remove(),z.autoLeft=function(){z.left+i[0]-g.width()>0?(z.tipLeft=z.left+z.width-i[0],x.css({right:12,left:"auto"})):z.tipLeft=z.left},z.where=[function(){z.autoLeft(),z.tipTop=z.top-i[1]-10,x.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",A.tips[1])},function(){z.tipLeft=z.left+z.width+10,z.tipTop=z.top,x.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",A.tips[1])},function(){z.autoLeft(),z.tipTop=z.top+z.height+10,x.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",A.tips[1])},function(){z.tipLeft=z.left-i[0]-10,z.tipTop=z.top,x.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",A.tips[1])}],z.where[n-1](),1===n?z.top-(g.scrollTop()+i[1]+16)<0&&z.where[2]():2===n?g.width()-(z.left+z.width+i[0]+16)>0||z.where[3]():3===n?z.top-g.scrollTop()+z.height+i[1]+16-g.height()>0&&z.where[0]():4===n&&i[0]+16-z.left>0&&z.where[1](),l.find("."+d[5]).css({"background-color":A.tips[1],"padding-right":A.closeBtn?"30px":""}),l.css({left:z.tipLeft-(A.fixed?g.scrollLeft():0),top:z.tipTop-(A.fixed?g.scrollTop():0)})},u.pt.move=function(){var w=this,n=w.config,o=b(document),i=w.layero,y=i.find(n.move),x=i.find(".layui-layer-resize"),r={};return n.move&&y.css("cursor","move"),y.on("mousedown",function(a){a.preventDefault(),n.move&&(r.moveStart=!0,r.offset=[a.clientX-parseFloat(i.css("left")),a.clientY-parseFloat(i.css("top"))],h.moveElem.css("cursor","move").show())}),x.on("mousedown",function(a){a.preventDefault(),r.resizeStart=!0,r.offset=[a.clientX,a.clientY],r.area=[i.outerWidth(),i.outerHeight()],h.moveElem.css("cursor","se-resize").show()}),o.on("mousemove",function(t){if(r.moveStart){var s=t.clientX-r.offset[0],c=t.clientY-r.offset[1],A="fixed"===i.css("position");if(t.preventDefault(),r.stX=A?0:g.scrollLeft(),r.stY=A?0:g.scrollTop(),!n.moveOut){var z=g.width()-i.outerWidth()+r.stX,e=g.height()-i.outerHeight()+r.stY;s<r.stX&&(s=r.stX),s>z&&(s=z),c<r.stY&&(c=r.stY),c>e&&(c=e)}i.css({left:s,top:c})}if(n.resize&&r.resizeStart){var s=t.clientX-r.offset[0],c=t.clientY-r.offset[1];t.preventDefault(),q.style(w.index,{width:r.area[0]+s,height:r.area[1]+c}),r.isResize=!0,n.resizing&&n.resizing(i)}}).on("mouseup",function(a){r.moveStart&&(delete r.moveStart,h.moveElem.hide(),n.moveEnd&&n.moveEnd(i)),r.resizeStart&&(delete r.resizeStart,h.moveElem.hide())}),w},u.pt.callback=function(){function l(){var a=i.cancel&&i.cancel(f.index,c);a===!1||q.close(f.index)}var f=this,c=f.layero,i=f.config;f.openLayer(),i.success&&(2==i.type?c.find("iframe").on("load",function(){i.success(c,f.index)}):i.success(c,f.index)),6==q.ie&&f.IE6(c),c.find("."+d[6]).children("a").on("click",function(){var n=b(this).index();if(0===n){i.yes?i.yes(f.index,c):i.btn1?i.btn1(f.index,c):q.close(f.index)}else{var a=i["btn"+(n+1)]&&i["btn"+(n+1)](f.index,c);a===!1||q.close(f.index)}}),c.find("."+d[7]).on("click",l),i.shadeClose&&b("#layui-layer-shade"+f.index).on("click",function(){q.close(f.index)}),c.find(".layui-layer-min").on("click",function(){var a=i.min&&i.min(c);a===!1||q.min(f.index,i)}),c.find(".layui-layer-max").on("click",function(){b(this).hasClass("layui-layer-maxmin")?(q.restore(f.index),i.restore&&i.restore(c)):(q.full(f.index,i),setTimeout(function(){i.full&&i.full(c)},100))}),i.end&&(h.end[f.index]=i.end)},h.reselect=function(){b.each(b("select"),function(f,c){var a=b(this);a.parents("."+d[0])[0]||1==a.attr("layer")&&b("."+d[0]).length<1&&a.removeAttr("layer").show(),a=null})},u.pt.IE6=function(a){b("select").each(function(i,f){var c=b(this);c.parents("."+d[0])[0]||"none"===c.css("display")||c.attr({layer:"1"}).hide(),c=null})},u.pt.openLayer=function(){var a=this;q.zIndex=a.config.zIndex,q.setTop=function(f){var c=function(){q.zIndex++,f.css("z-index",q.zIndex+1)};return q.zIndex=parseInt(f[0].style.zIndex),f.on("mousedown",c),q.zIndex}},h.record=function(c){var a=[c.width(),c.height(),c.position().top,c.position().left+parseFloat(c.css("margin-left"))];c.find(".layui-layer-max").addClass("layui-layer-maxmin"),c.attr({area:a})},h.rescollbar=function(a){d.html.attr("layer-full")==a&&(d.html[0].style.removeProperty?d.html[0].style.removeProperty("overflow"):d.html[0].style.removeAttribute("overflow"),d.html.removeAttr("layer-full"))},m.layer=q,q.getChildFrame=function(c,a){return a=a||b("."+d[4]).attr("times"),b("#"+d[0]+a).find("iframe").contents().find(c)},q.getFrameIndex=function(a){return b("#"+a).parents("."+d[4]).attr("times")},q.iframeAuto=function(l){if(l){var f=q.getChildFrame("html",l).outerHeight(),c=b("#"+d[0]+l),i=c.find(d[1]).outerHeight()||0,r=c.find("."+d[6]).outerHeight()||0;c.css({height:f+i+r}),c.find("iframe").css({height:f})}},q.iframeSrc=function(c,a){b("#"+d[0]+c).find("iframe").attr("src",a)},q.style=function(w,A,i){var l=b("#"+d[0]+w),y=l.find(".layui-layer-content"),z=l.attr("type"),x=l.find(d[1]).outerHeight()||0,o=l.find("."+d[6]).outerHeight()||0;l.attr("minLeft");z!==h.type[3]&&z!==h.type[4]&&(i||(parseFloat(A.width)<=260&&(A.width=260),parseFloat(A.height)-x-o<=64&&(A.height=64+x+o)),l.css(A),o=l.find("."+d[6]).outerHeight(),z===h.type[2]?l.find("iframe").css({height:parseFloat(A.height)-x-o}):y.css({height:parseFloat(A.height)-x-o-parseFloat(y.css("padding-top"))-parseFloat(y.css("padding-bottom"))}))},q.min=function(r,l){var n=b("#"+d[0]+r),i=n.find(d[1]).outerHeight()||0,w=n.attr("minLeft")||181*h.minIndex+"px",o=n.css("position");h.record(n),h.minLeft[0]&&(w=h.minLeft[0],h.minLeft.shift()),n.attr("position",o),q.style(r,{width:180,height:i,left:w,top:g.height()-i,position:"fixed",overflow:"hidden"},!0),n.find(".layui-layer-min").hide(),"page"===n.attr("type")&&n.find(d[4]).hide(),h.rescollbar(r),n.attr("minLeft")||h.minIndex++,n.attr("minLeft",w)},q.restore=function(f){var c=b("#"+d[0]+f),a=c.attr("area").split(",");c.attr("type");q.style(f,{width:parseFloat(a[0]),height:parseFloat(a[1]),top:parseFloat(a[2]),left:parseFloat(a[3]),position:c.attr("position"),overflow:"visible"},!0),c.find(".layui-layer-max").removeClass("layui-layer-maxmin"),c.find(".layui-layer-min").show(),"page"===c.attr("type")&&c.find(d[4]).show(),h.rescollbar(f)},q.full=function(i){var c,f=b("#"+d[0]+i);h.record(f),d.html.attr("layer-full")||d.html.css("overflow","hidden").attr("layer-full",i),clearTimeout(c),c=setTimeout(function(){var a="fixed"===f.css("position");q.style(i,{top:a?0:g.scrollTop(),left:a?0:g.scrollLeft(),width:g.width(),height:g.height()},!0),f.find(".layui-layer-min").hide()},100)},q.title=function(f,c){var a=b("#"+d[0]+(c||q.index)).find(d[1]);a.html(f)},q.close=function(r){var l=b("#"+d[0]+r),i=l.attr("type"),o="layer-anim-close";if(l[0]){var c="layui-layer-wrap",w=function(){if(i===h.type[1]&&"object"===l.attr("conType")){l.children(":not(."+d[5]+")").remove();for(var n=l.find("."+c),e=0;e<2;e++){n.unwrap()}n.css("display",n.data("display")).removeClass(c)}else{if(i===h.type[2]){try{var t=b("#"+d[4]+r)[0];t.contentWindow.document.write(""),t.contentWindow.close(),l.find("."+d[5])[0].removeChild(t)}catch(s){}}l[0].innerHTML="",l.remove()}"function"==typeof h.end[r]&&h.end[r](),delete h.end[r]};l.data("isOutAnim")&&l.addClass("layer-anim "+o),b("#layui-layer-moves, #layui-layer-shade"+r).remove(),6==q.ie&&h.reselect(),h.rescollbar(r),l.attr("minLeft")&&(h.minIndex--,h.minLeft.push(l.attr("minLeft"))),q.ie&&q.ie<10||!l.data("isOutAnim")?w():setTimeout(function(){w()},200)}},q.closeAll=function(a){b.each(b("."+d[0]),function(){var e=b(this),c=a?e.attr("type")===a:1;c&&q.close(e.attr("times")),c=null})};var p=q.cache||{},k=function(a){return p.skin?" "+p.skin+" "+p.skin+"-"+a:""};q.prompt=function(w,i){var n="";if(w=w||{},"function"==typeof w&&(i=w),w.area){var x=w.area;n='style="width: '+x[0]+"; height: "+x[1]+';"',delete w.area}var c,y=2==w.formType?'<textarea class="layui-layer-input"'+n+">"+(w.value||"")+"</textarea>":function(){return'<input type="'+(1==w.formType?"password":"text")+'" class="layui-layer-input" value="'+(w.value||"")+'">'}(),r=w.success;return delete w.success,q.open(b.extend({type:1,btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],content:y,skin:"layui-layer-prompt"+k("prompt"),maxWidth:g.width(),success:function(a){c=a.find(".layui-layer-input"),c.focus(),"function"==typeof r&&r(a)},resize:!1,yes:function(e){var a=c.val();""===a?c.focus():a.length>(w.maxlength||500)?q.tips("&#x6700;&#x591A;&#x8F93;&#x5165;"+(w.maxlength||500)+"&#x4E2A;&#x5B57;&#x6570;",c,{tips:1}):i&&i(a,e,c)}},w))},q.tab=function(l){l=l||{};var f=l.tab||{},c="layui-this",i=l.success;return delete l.success,q.open(b.extend({type:1,skin:"layui-layer-tab"+k("tab"),resize:!1,title:function(){var r=f.length,o=1,n="";if(r>0){for(n='<span class="'+c+'">'+f[0].title+"</span>";o<r;o++){n+="<span>"+f[o].title+"</span>"}}return n}(),content:'<ul class="layui-layer-tabmain">'+function(){var r=f.length,o=1,n="";if(r>0){for(n='<li class="layui-layer-tabli '+c+'">'+(f[0].content||"no content")+"</li>";o<r;o++){n+='<li class="layui-layer-tabli">'+(f[o].content||"no  content")+"</li>"}}return n}()+"</ul>",success:function(e){var n=e.find(".layui-layer-title").children(),a=e.find(".layui-layer-tabmain").children();n.on("mousedown",function(r){r.stopPropagation?r.stopPropagation():r.cancelBubble=!0;var s=b(this),w=s.index();s.addClass(c).siblings().removeClass(c),a.eq(w).show().siblings().hide(),"function"==typeof l.change&&l.change(w)}),"function"==typeof i&&i(e)}},l))},q.photos=function(C,e,w){function i(o,f,l){var a=new Image;return a.src=o,a.complete?f(a):(a.onload=function(){a.onload=null,f(a)},void (a.onerror=function(n){a.onerror=null,l(n)}))}var B={};if(C=C||{},C.photos){var c=C.photos.constructor===Object,z=c?C.photos:{},D=z.data||[],x=z.start||0;B.imgIndex=(0|x)+1,C.img=C.img||"img";var r=C.success;if(delete C.success,c){if(0===D.length){return q.msg("&#x6CA1;&#x6709;&#x56FE;&#x7247;")}}else{var A=b(C.photos),E=function(){D=[],A.find(C.img).each(function(f){var a=b(this);a.attr("layer-index",f),D.push({alt:a.attr("alt"),pid:a.attr("layer-pid"),src:a.attr("layer-src")||a.attr("src"),thumb:a.attr("src")})})};if(E(),0===D.length){return}if(e||A.on("click",C.img,function(){var f=b(this),a=f.attr("layer-index");q.photos(b.extend(C,{photos:{start:a,data:D,tab:C.tab},full:C.full}),!0),E()}),!e){return}}B.imgprev=function(a){B.imgIndex--,B.imgIndex<1&&(B.imgIndex=D.length),B.tabimg(a)},B.imgnext=function(f,a){B.imgIndex++,B.imgIndex>D.length&&(B.imgIndex=1,a)||B.tabimg(f)},B.keyup=function(f){if(!B.end){var a=f.keyCode;f.preventDefault(),37===a?B.imgprev(!0):39===a?B.imgnext(!0):27===a&&q.close(B.index)}},B.tabimg=function(a){if(!(D.length<=1)){return z.start=B.imgIndex-1,q.close(B.index),q.photos(C,!0,a)}},B.event=function(){B.bigimg.hover(function(){B.imgsee.show()},function(){B.imgsee.hide()}),B.bigimg.find(".layui-layer-imgprev").on("click",function(a){a.preventDefault(),B.imgprev()}),B.bigimg.find(".layui-layer-imgnext").on("click",function(a){a.preventDefault(),B.imgnext()}),b(document).on("keyup",B.keyup)},B.loadi=q.load(1,{shade:!("shade" in C)&&0.9,scrollbar:!1}),i(D[x].src,function(a){q.close(B.loadi),B.index=q.open(b.extend({type:1,id:"layui-layer-photos",area:function(){var n=[a.width,a.height],l=[b(m).width()-100,b(m).height()-100];if(!C.full&&(n[0]>l[0]||n[1]>l[1])){var f=[n[0]/l[0],n[1]/l[1]];f[0]>f[1]?(n[0]=n[0]/f[0],n[1]=n[1]/f[0]):f[0]<f[1]&&(n[0]=n[0]/f[1],n[1]=n[1]/f[1])}return[n[0]+"px",n[1]+"px"]}(),title:!1,shade:0.9,shadeClose:!0,closeBtn:!1,move:".layui-layer-phimg img",moveType:1,scrollbar:!1,moveOut:!0,isOutAnim:!1,skin:"layui-layer-photos"+k("photos"),content:'<div class="layui-layer-phimg"><img src="'+D[x].src+'" alt="'+(D[x].alt||"")+'" layer-pid="'+D[x].pid+'"><div class="layui-layer-imgsee">'+(D.length>1?'<span class="layui-layer-imguide"><a href="javascript:;" class="layui-layer-iconext layui-layer-imgprev"></a><a href="javascript:;" class="layui-layer-iconext layui-layer-imgnext"></a></span>':"")+'<div class="layui-layer-imgbar" style="display:'+(w?"block":"")+'"><span class="layui-layer-imgtit"><a href="javascript:;">'+(D[x].alt||"")+"</a><em>"+B.imgIndex+"/"+D.length+"</em></span></div></div></div>",success:function(l,f){B.bigimg=l.find(".layui-layer-phimg"),B.imgsee=l.find(".layui-layer-imguide,.layui-layer-imgbar"),B.event(l),C.tab&&C.tab(D[x],l),"function"==typeof r&&r(l)},end:function(){B.end=!0,b(document).off("keyup",B.keyup)}},C))},function(){q.close(B.loadi),q.msg("&#x5F53;&#x524D;&#x56FE;&#x7247;&#x5730;&#x5740;&#x5F02;&#x5E38;<br>&#x662F;&#x5426;&#x7EE7;&#x7EED;&#x67E5;&#x770B;&#x4E0B;&#x4E00;&#x5F20;&#xFF1F;",{time:30000,btn:["&#x4E0B;&#x4E00;&#x5F20;","&#x4E0D;&#x770B;&#x4E86;"],yes:function(){D.length>1&&B.imgnext(!0,!0)}})})}},q.reInitialization=function(a){h.run(a),q.ready()},h.run=function(a){b=a,g=b(m),d.html=b("html"),q.open=function(f){var c=new u(f);return c.index}},m.layui&&layui.define?(q.ready(),layui.define("jquery",function(a){q.path=layui.cache.dir,h.run(layui.$),m.layer=q,a("layer",q)})):"function"==typeof define&&define.amd?define(["jquery"],function(){return h.run(m.jQuery),q}):function(){h.run(m.jQuery),q.ready()}()}(window);